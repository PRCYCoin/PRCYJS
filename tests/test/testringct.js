var privateKeys = require('./privatekeys.json');
var outputs = require('./output.json');
var inputs = require('./input.json');
var decoys = require('./decoys.json');
var TxCreator = require('../../src/prcylib/index');
var config = require('../../src/prcylib/config');

for(var i = 0; i < privateKeys.length; i++) {
    privateKeys[i] = Buffer.from(privateKeys[i], 'hex');
    inputs[i].hash = Buffer.from(inputs[i].hash, 'hex').reverse();
    inputs[i].blind = Buffer.from(inputs[i].blind, 'hex');
}

for(i = 0; i < outputs.length; i++) {
    outputs[i].blind = Buffer.from(outputs[i].blind, 'hex');
}

TxCreator.CreatePRCYPrivacyTransaction(config.PRCY_SERVER, inputs, outputs, decoys.decoys, privateKeys, 13, function(tx) {
    //console.log('tx raw:', Buffer.from(tx.serialize()).toString('hex'))//Buffer.from(tx.serialize()).toString('hex'))
})



//var hexBytes = Buffer.from('0100000001b41fd43ac99b6f4d60270fe2c0597f2c5105150c305a83694be45614c13aef910000000000ffffffff002103e519d4f9bc34cd1a235680d47ee69661437f0ec024155afc1528a287bde21a0a0bcb21114f1029bda589aadf25f8fae27a132e8479220e3852e29ef003faf132ad02000000d631564a808033a6966cff59fa5fc516ad4d08cc6bc73fb443a5a32de911452b000000009a035873baa222e81f17bfd88e463d769b42833bf1da78faac5879a79ac86fff02000000c754b1063f5b2a4f247583606e93f7a93b0137ef440e7a452586eb29cd9435c200000000f63888e96e471bcaec47f673b37ad566afccf65297345002d6f48cc238e4f10603000000989f74a8e87f2b1cc6187ed973fb7a3af9f0a13f96dff2472f0316fe0976e25601000000c7c12625842263818f285b5906d7c491415771e1b1163ed1aed90eeadb40b02f01000000746f6b6383a93ad9805b1ad773d67aa3e3eb2b2744043cb484a4b234b7eecef70100000021bac2c6abdc42b871c94abd27d46f2ae0cb52efc9398a7e4a4f183b2b8e4515030000004a47a2242c8bacd0042d6c527cfd4117a9a9742b614ec21768f8b1b011417b5001000000e58b049376ba6be0c6885d33f6500881f8c74186e375c572c9d077f797a1047000000000000000020000000000000000232102ce52d4bfe9ddddf1e2b542cfd4fd58ebc049bbdbbc3cb58230da78943576317fac00210271333b5ec6d34cca0335c1fe78819b3b297d9050dd50387ed90d60cd241ce490c664075a21b9748654f53ae5f062f46f678883f4d96431a3fec26e705a624b7c4efd12ba88ee25349d5ccadd1d63a38cd50780838635aae8cddc6d44d6bb1337000000000000000000000000000000000000000000000000000000000000000000210821ec4fd80b71697d892db282d4bcb3bbb79a5ef0d3c8cd05725079aff20baa2c00000000000000002321039720286559fbb72bd99b47dc8017d7bfe105f1b50f897a2a57f0b76a1b86fcacac002103289dd1660609bbc55a248810834dbb39ffcb683f0cd262f19627db0a157cefc454db1766989f6094ba2c57b1256d7f1ebf84847f0b5e376da6e58018afca1bb66dec8103c409e96050b422cf84cfc46c3427a329ba565a72466f4ef2b38a986200000000000000000000000000000000000000000000000000000000000000000021080ae71d4dba1c4bbde867d3a74dad83030cbb2041155b4d716d4b492839b6dc3f0000000000000000000040d4850b00000000b286d0802912c44b0b2fa944867dbd2740077af27fb19f280ec478fa958f5d8d0c02e50d53189826304e4e68df492e07656e58f22628522cd0a3e53e78cfcdf1fea3cab849743962dcc5be30a6ae0425c6db663edcfda6fa8f95a1e4f6d292aa6dcc02e7bd4d9f1465ed7aec96e58132d5cf7bd82e43e6608d6acfb8e6b519bdf1d7a1a25f9b3a5b25ee35ace6fb8ea261952caf0283691aad5232f264dc52cd3130150241fcc5d62379148c05da22de54e8b4a6deb27786937064260d6b9429bdc0462b8f3864b2bd7a06c5a402e843a3dfbd9c5d0734e3cb2881d907bbaeb4aa56db4c02393db84081e9761fd0e5c354f2d2dd9d5d52ffc96279fbc922d145d52aedc0858b65d025cea4edf32b25c99863194c67dd26d9340ff9c298aa64d036374b469602f045562db8e5a2cb450f5cd57fc26ec81490e1a073cfad2244d716a26a487b742ff041f3f52113bd1b35f8ef93e47da255c03c2a93a78e4f6908f45ab65c708b02de2343fd728b22609bc7002c44dfc6adc2dded5659b020a61476bce5e11aca6db666dc9a5590071f408a427dff85186a204abd4ed49823a042577373aaeedec8022c37c1b11ce54e8a607c0d0a3f76c0b8a299b079232ec5d8858140dec98c6f0a04bb161f8f13f517fe7a4df72e5c958b6d0c867e5b537860f794eb7f6a3c7a41024880e585e43f71f7ad8fdfba1b816a36a0ea01d0e3423227f095b717a9db267617588501a9c626cd9cd8cf3bca096e5ac1c462506c9837db84f6045f6901646402e171c3fa67d40b5cb30f42fbc51f43296b230b6136a5de671bff22ac6d546ed737d9fcaf4cfde2f4014a90fb600fbc35ce0e2df0de7c10ae2ff4ab32e908e0be02970b8abcf30cf652da43f1466234ad14606ff0f665e038cc2be2c56ee11d354e294ba63fcf16de1cb227d89689638ccaad70bb79be755e7721efdfadce0b2e0c02f92e3d033491c8bac251b9f72edd6c04e15c70202117d6654d2c640f37d75f0127696e0bf5e3daded6575347d6462cf51c31f079dbd9b14eb4faa0ec624717af024ee55a0fcf5b5bf8ba6c4b9d974bfd9a9b4241e25b0f4d0254eb79e67f95dce6ef77c7fda545377dcca70ea01f75f595dc05d057e46274c715269649cf42571921021b296f006fc603c977726d4b8ef1ba281fbd4d559208aea83345ad5c72e90d5d', 'hex');
//console.log('hash hex:', Buffer.from(bcrypto.hash256(hexBytes.reverse())).toString('hex'))